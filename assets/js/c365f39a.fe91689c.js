"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[545],{5691:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>c,toc:()=>u});var s=n(4848),r=n(8453),l=n(1470),t=n(9365);const o={sidebar_label:"Plataforma (manual)",sidebar_position:3},i="Gu\xeda de Instalaci\xf3n",c={id:"installation/manual-installation",title:"Gu\xeda de Instalaci\xf3n",description:"Esta gu\xeda proporciona instrucciones detalladas para instalar y configurar las dependencias requeridas para el funcionamiento de la plataforma",source:"@site/docs/installation/manual-installation.md",sourceDirName:"installation",slug:"/installation/manual-installation",permalink:"/trabajo-de-grado/docs/installation/manual-installation",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_label:"Plataforma (manual)",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Cliente",permalink:"/trabajo-de-grado/docs/installation/install-client"},next:{title:"Soluci\xf3n de Problemas Comunes",permalink:"/trabajo-de-grado/docs/installation/common-problems"}},d={},u=[{value:"Base de Datos: PostgreSQL",id:"base-de-datos-postgresql",level:2},{value:"Node.js y npm",id:"nodejs-y-npm",level:2},{value:"PHP 8.2 y 8.3",id:"php-82-y-83",level:2},{value:"Composer",id:"composer",level:2},{value:"RabbitMQ",id:"rabbitmq",level:2},{value:"Configuraci\xf3n para el archivo .env de Laravel",id:"configuraci\xf3n-para-el-archivo-env-de-laravel",level:2}];function p(e){const a={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.header,{children:(0,s.jsx)(a.h1,{id:"gu\xeda-de-instalaci\xf3n",children:"Gu\xeda de Instalaci\xf3n"})}),"\n",(0,s.jsx)(a.p,{children:"Esta gu\xeda proporciona instrucciones detalladas para instalar y configurar las dependencias requeridas para el funcionamiento de la plataforma"}),"\n",(0,s.jsx)(a.h2,{id:"base-de-datos-postgresql",children:"Base de Datos: PostgreSQL"}),"\n",(0,s.jsx)(a.admonition,{type:"info",children:(0,s.jsxs)(a.p,{children:["Puedes usar cualquier base de datos SQL, ya que son compatibles con laravel, asegurate de instalar la extensi\xf3n php para tu base de datos y de modificar el archivo .env, por ejemplo si quiero usar mysql debo instalar la extension php-mysql y configurar la variable ",(0,s.jsx)(a.code,{children:"DB_CONNECTION"})," con ",(0,s.jsx)(a.code,{children:"mysql"})]})}),"\n",(0,s.jsxs)(l.A,{groupId:"operating-systems",children:[(0,s.jsxs)(t.A,{value:"ubuntu",label:"Ubuntu/Debian",children:[(0,s.jsx)(a.p,{children:"Instalar PostgreSQL"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"sudo apt update\nsudo apt install postgresql postgresql-contrib\n"})}),(0,s.jsx)(a.p,{children:"Iniciar el servicio de PostgreSQL"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"\nsudo systemctl start postgresql\nsudo systemctl enable postgresql\n"})}),(0,s.jsx)(a.p,{children:"Crear una base de datos y un usuario (puedes usar el usuario postgres si deseas)"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"\nsudo -u postgres psql\nCREATE DATABASE tg;\nCREATE USER miusuario WITH ENCRYPTED PASSWORD 'micontrase\xf1a';\nGRANT ALL PRIVILEGES ON DATABASE tg TO miusuario;\n\\q\n\n"})})]}),(0,s.jsx)(t.A,{value:"fedora",label:"Fedora/RedHat",children:(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"# Instalar PostgreSQL\nsudo dnf install postgresql postgresql-server\nsudo postgresql-setup --initdb\n\n# Iniciar el servicio de PostgreSQL\nsudo systemctl start postgresql\nsudo systemctl enable postgresql\n\n# Crear una base de datos y un usuario\nsudo -u postgres psql\nCREATE DATABASE tg;\nCREATE USER miusuario WITH ENCRYPTED PASSWORD 'micontrase\xf1a';\nGRANT ALL PRIVILEGES ON DATABASE tg TO miusuario;\n\\q\n"})})}),(0,s.jsx)(t.A,{value:"docker",label:"Docker",children:(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"# Ejecutar contenedor de PostgreSQL\ndocker run --name postgres-db -e POSTGRES_PASSWORD=micontrase\xf1a -e POSTGRES_DB=tg -p 5432:5432 -d postgres\n\n# Crear un usuario (opcional, ya que el usuario por defecto es 'postgres')\ndocker exec -it postgres-db psql -U postgres\nCREATE USER miusuario WITH ENCRYPTED PASSWORD 'micontrase\xf1a';\nGRANT ALL PRIVILEGES ON DATABASE tg TO miusuario;\n\\q\n"})})})]}),"\n",(0,s.jsx)(a.h2,{id:"nodejs-y-npm",children:"Node.js y npm"}),"\n",(0,s.jsxs)(l.A,{groupId:"operating-systems",children:[(0,s.jsx)(t.A,{value:"ubuntu",label:"Ubuntu/Debian",children:(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -\nsudo apt-get install -y nodejs\n"})})}),(0,s.jsx)(t.A,{value:"fedora",label:"Fedora/RedHat",children:(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"sudo dnf install nodejs npm\n"})})}),(0,s.jsxs)(t.A,{value:"docker",label:"Docker",children:[(0,s.jsx)(a.p,{children:"Tambien ejecutar nodejs o npm desde docker, el siguente comando es un ejemplo"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"docker run -it --rm node:20-slim node -v\n"})})]})]}),"\n",(0,s.jsx)(a.h2,{id:"php-82-y-83",children:"PHP 8.2 y 8.3"}),"\n",(0,s.jsx)(a.p,{children:"Si tu distribuci\xf3n no provee php 8.2 u 8.3 debes instalar un repositorio externo como:"}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:(0,s.jsx)(a.a,{href:"https://php.watch/articles/php-8.3-install-upgrade-on-debian-ubuntu",children:"https://php.watch/articles/php-8.3-install-upgrade-on-debian-ubuntu"})}),"\n"]}),"\n",(0,s.jsxs)(l.A,{groupId:"operating-systems",children:[(0,s.jsx)(t.A,{value:"ubuntu",label:"Ubuntu/Debian",children:(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"# Instalar PHP y extensiones requeridas\nsudo apt update\nsudo apt install php php-{cli,fpm,pgsql,mbstring,xml,curl,zip,gd,bcmath,ldap,redis,amqp}\n\n"})})}),(0,s.jsx)(t.A,{value:"fedora",label:"Fedora/RedHat",children:(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"# Instalar PHP y extensiones requeridas\nsudo dnf install php php-{cli,fpm,pgsql,mbstring,xml,curl,zip,gd,redis,amqp}\n\n"})})})]}),"\n",(0,s.jsx)(a.h2,{id:"composer",children:"Composer"}),"\n",(0,s.jsxs)(l.A,{groupId:"operating-systems",children:[(0,s.jsx)(t.A,{value:"ubuntu",label:"Ubuntu/Debian",children:(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"# Instalar Composer\nphp -r \"copy('https://getcomposer.org/installer', 'composer-setup.php');\"\nphp composer-setup.php\nphp -r \"unlink('composer-setup.php');\"\nsudo mv composer.phar /usr/local/bin/composer\n"})})}),(0,s.jsx)(t.A,{value:"fedora",label:"Fedora/RedHat",children:(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"# Instalar Composer\nphp -r \"copy('https://getcomposer.org/installer', 'composer-setup.php');\"\nphp composer-setup.php\nphp -r \"unlink('composer-setup.php');\"\nsudo mv composer.phar /usr/local/bin/composer\n"})})}),(0,s.jsxs)(t.A,{value:"docker",label:"Docker",children:[(0,s.jsx)(a.p,{children:"Puedes ejecutar composer desde docker, el siguente comando es un ejemplo"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:'docker run --rm \\\n    -u "$(id -u):$(id -g)" \\\n    -v "$(pwd):/var/www/html" \\\n    -w /var/www/html \\\n    laravelsail/php83-composer:latest \\\n    composer --version\n'})})]})]}),"\n",(0,s.jsx)(a.h2,{id:"rabbitmq",children:"RabbitMQ"}),"\n",(0,s.jsx)(a.p,{children:"La plataforma utiliza el protocolo AMQP 9-0-1 con la implementaci\xf3n de rabbitmq, es necesario tener instalado:"}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:"RabbitMQ 3.12 o mayor"}),"\n",(0,s.jsx)(a.li,{children:"Habilitar el plugin de administraci\xf3n web"}),"\n"]}),"\n",(0,s.jsxs)(a.p,{children:["tambien puedes acceder a rabbitmq a travez de proveedores como ",(0,s.jsx)(a.a,{href:"https://www.cloudamqp.com/",children:"CloudAMQP"})," y ",(0,s.jsx)(a.a,{href:"https://www.stackhero.io/",children:"Stackhero"})]}),"\n",(0,s.jsxs)(l.A,{groupId:"operating-systems",children:[(0,s.jsxs)(t.A,{value:"ubuntu",label:"Ubuntu | Debian",default:!0,children:[(0,s.jsxs)(a.p,{children:["Puedes instalar rabbitmq a travez de APT, si deseas la ultima versi\xf3n utiliza los repositorios de rabbitmq ",(0,s.jsx)(a.a,{href:"https://www.rabbitmq.com/docs/install-debian",children:"https://www.rabbitmq.com/docs/install-debian"})]}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"sudo apt install rabbitmq-server\nsudo rabbitmq-plugins enable rabbitmq_management\nsudo systemctl restart rabbitmq-server\nsudo systemctl enable rabbitmq-server\n"})})]}),(0,s.jsxs)(t.A,{value:"fedora",label:"Fedora | RedHat",children:[(0,s.jsxs)(a.p,{children:["Puedes instalar rabbitmq a travez de APT, si deseas la ultima versi\xf3n utiliza los repositorios de rabbitmq ",(0,s.jsx)(a.a,{href:"https://www.rabbitmq.com/docs/install-rpm",children:"https://www.rabbitmq.com/docs/install-rpm"})]}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{children:"sudo dnf install rabbitmq-server\n  sudo rabbitmq-plugins enable rabbitmq_management\nsudo systemctl restart rabbitmq-server\nsudo systemctl enable rabbitmq-server\n"})})]}),(0,s.jsx)(t.A,{value:"docker",label:"Docker",children:(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-bash",children:"docker run --name rabbitmq -p 5672:5672 -p 15672:15672 rabbitmq:3.13-management\n"})})})]}),"\n",(0,s.jsx)(a.h2,{id:"configuraci\xf3n-para-el-archivo-env-de-laravel",children:"Configuraci\xf3n para el archivo .env de Laravel"}),"\n",(0,s.jsxs)(a.p,{children:["Despu\xe9s de instalar las dependencias, necesitas configurar el archivo ",(0,s.jsx)(a.code,{children:".env"})," de tu aplicaci\xf3n. El archivo .env contiene muchos parametros que se pueden modificar en la aplicaci\xf3n, sin embargo los m\xe1s importantes son:"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-env",children:'# Configuraci\xf3n de la base de datos\nDB_CONNECTION=pgsql\nDB_HOST=127.0.0.1\nDB_PORT=5432\nDB_DATABASE=tg\nDB_USERNAME=miusuario\nDB_PASSWORD=micontrase\xf1a\n\n\n# Configuraci\xf3n de RabbitMQ\nRABBITMQ_HOST=localhost\nRABBITMQ_PORT=5672\nRABBITMQ_VHOST=/\nRABBITMQ_LOGIN=guest\nRABBITMQ_PASSWORD=guest\n\n# Configuraci\xf3n de Reverb (WebSockets)\nRABBITMQ_PUBLIC_HOST_IP= IP Publica del servidor de rabbitmq, es muy importante que est\xe9 bien configurado este valor ya que sin \xe9l los clientes no se pueden conectar.\n\n#En estas variables de entorno puedes poner cualquier valor, unicamente se piden para poder identificar la aplicaci\xf3n y poder cifrar la conecci\xf3n de #websockets.\n\nREVERB_APP_ID=tu_app_id\nREVERB_APP_KEY=tu_app_key\nREVERB_APP_SECRET=tu_app_secret\nREVERB_HOST="localhost"\nREVERB_PORT=8080\nREVERB_SCHEME=http\n'})}),"\n",(0,s.jsx)(a.p,{children:"Aseg\xfarate de reemplazar los valores de ejemplo con tus detalles de configuraci\xf3n reales. Por ejemplo:"}),"\n",(0,s.jsxs)(a.ol,{children:["\n",(0,s.jsxs)(a.li,{children:["Establece ",(0,s.jsx)(a.code,{children:"DB_USERNAME"})," y ",(0,s.jsx)(a.code,{children:"DB_PASSWORD"})," con el usuario y contrase\xf1a de PostgreSQL que creaste."]}),"\n",(0,s.jsxs)(a.li,{children:["Si est\xe1s usando un host diferente para PostgreSQL (por ejemplo, un contenedor Docker), actualiza ",(0,s.jsx)(a.code,{children:"DB_HOST"})," en consecuencia."]}),"\n",(0,s.jsx)(a.li,{children:"Configura los ajustes de RabbitMQ seg\xfan tu instalaci\xf3n. Si est\xe1s usando la configuraci\xf3n por defecto, los valores proporcionados deber\xedan funcionar."}),"\n",(0,s.jsxs)(a.li,{children:["Para Reverb (WebSockets), necesitar\xe1s generar los valores de ",(0,s.jsx)(a.code,{children:"REVERB_APP_ID"}),", ",(0,s.jsx)(a.code,{children:"REVERB_APP_KEY"}),", y ",(0,s.jsx)(a.code,{children:"REVERB_APP_SECRET"}),". Consulta la documentaci\xf3n de Reverb para obtener instrucciones sobre c\xf3mo generar estos valores."]}),"\n",(0,s.jsxs)(a.li,{children:["Para Redis, si has cambiado la configuraci\xf3n por defecto, actualiza ",(0,s.jsx)(a.code,{children:"REDIS_HOST"}),", ",(0,s.jsx)(a.code,{children:"REDIS_PASSWORD"}),", y ",(0,s.jsx)(a.code,{children:"REDIS_PORT"})," seg\xfan sea necesario."]}),"\n"]}),"\n",(0,s.jsxs)(a.p,{children:["Recuerda ejecutar ",(0,s.jsx)(a.code,{children:"php artisan config:cache"})," despu\xe9s de hacer cambios en tu archivo ",(0,s.jsx)(a.code,{children:".env"})," para asegurarte de que los cambios surtan efecto."]})]})}function h(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},9365:(e,a,n)=>{n.d(a,{A:()=>t});n(6540);var s=n(4164);const r={tabItem:"tabItem_Ymn6"};var l=n(4848);function t(e){let{children:a,hidden:n,className:t}=e;return(0,l.jsx)("div",{role:"tabpanel",className:(0,s.A)(r.tabItem,t),hidden:n,children:a})}},1470:(e,a,n)=>{n.d(a,{A:()=>E});var s=n(6540),r=n(4164),l=n(3104),t=n(6347),o=n(205),i=n(7485),c=n(1682),d=n(679);function u(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:a}=e;return!!a&&"object"==typeof a&&"value"in a}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:a,children:n}=e;return(0,s.useMemo)((()=>{const e=a??function(e){return u(e).map((e=>{let{props:{value:a,label:n,attributes:s,default:r}}=e;return{value:a,label:n,attributes:s,default:r}}))}(n);return function(e){const a=(0,c.XI)(e,((e,a)=>e.value===a.value));if(a.length>0)throw new Error(`Docusaurus error: Duplicate values "${a.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[a,n])}function h(e){let{value:a,tabValues:n}=e;return n.some((e=>e.value===a))}function m(e){let{queryString:a=!1,groupId:n}=e;const r=(0,t.W6)(),l=function(e){let{queryString:a=!1,groupId:n}=e;if("string"==typeof a)return a;if(!1===a)return null;if(!0===a&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:a,groupId:n});return[(0,i.aZ)(l),(0,s.useCallback)((e=>{if(!l)return;const a=new URLSearchParams(r.location.search);a.set(l,e),r.replace({...r.location,search:a.toString()})}),[l,r])]}function b(e){const{defaultValue:a,queryString:n=!1,groupId:r}=e,l=p(e),[t,i]=(0,s.useState)((()=>function(e){let{defaultValue:a,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!h({value:a,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${a}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return a}const s=n.find((e=>e.default))??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:a,tabValues:l}))),[c,u]=m({queryString:n,groupId:r}),[b,g]=function(e){let{groupId:a}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(a),[r,l]=(0,d.Dv)(n);return[r,(0,s.useCallback)((e=>{n&&l.set(e)}),[n,l])]}({groupId:r}),j=(()=>{const e=c??b;return h({value:e,tabValues:l})?e:null})();(0,o.A)((()=>{j&&i(j)}),[j]);return{selectedValue:t,selectValue:(0,s.useCallback)((e=>{if(!h({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);i(e),u(e),g(e)}),[u,g,l]),tabValues:l}}var g=n(2303);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=n(4848);function v(e){let{className:a,block:n,selectedValue:s,selectValue:t,tabValues:o}=e;const i=[],{blockElementScrollPositionUntilNextRender:c}=(0,l.a_)(),d=e=>{const a=e.currentTarget,n=i.indexOf(a),r=o[n].value;r!==s&&(c(a),t(r))},u=e=>{let a=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=i.indexOf(e.currentTarget)+1;a=i[n]??i[0];break}case"ArrowLeft":{const n=i.indexOf(e.currentTarget)-1;a=i[n]??i[i.length-1];break}}a?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},a),children:o.map((e=>{let{value:a,label:n,attributes:l}=e;return(0,x.jsx)("li",{role:"tab",tabIndex:s===a?0:-1,"aria-selected":s===a,ref:e=>i.push(e),onKeyDown:u,onClick:d,...l,className:(0,r.A)("tabs__item",j.tabItem,l?.className,{"tabs__item--active":s===a}),children:n??a},a)}))})}function f(e){let{lazy:a,children:n,selectedValue:l}=e;const t=(Array.isArray(n)?n:[n]).filter(Boolean);if(a){const e=t.find((e=>e.props.value===l));return e?(0,s.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:t.map(((e,a)=>(0,s.cloneElement)(e,{key:a,hidden:e.props.value!==l})))})}function A(e){const a=b(e);return(0,x.jsxs)("div",{className:(0,r.A)("tabs-container",j.tabList),children:[(0,x.jsx)(v,{...a,...e}),(0,x.jsx)(f,{...a,...e})]})}function E(e){const a=(0,g.A)();return(0,x.jsx)(A,{...e,children:u(e.children)},String(a))}},8453:(e,a,n)=>{n.d(a,{R:()=>t,x:()=>o});var s=n(6540);const r={},l=s.createContext(r);function t(e){const a=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function o(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(l.Provider,{value:a},e.children)}}}]);